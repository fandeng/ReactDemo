	import React,{Component} from 'react';
	import{
		StyleSheet,
		Text,
		View,
		BackAndroid,
		Platform,
		TouchableOpacity,
	ScrollView,
	} from 'react-native';

	import HeaderView from '../common/HeaderView';
	import Common from '../common/common';

	import REQUEST_JSON from '../Data/Request.json';
var DataRepository = require('../Data/DataRepository');
var repository = new DataRepository();
var  Response =require('../Data/Response');

class LoanDetail extends Component{
	constructor(props) {
	  super(props);
	
	  this.state = {
	  	info:this.props.info,
	  	data:Response.queryloandetail.response_body,
	  };
	}
	 componentDidMount() {
	 	this.setState({
	 		info:this.props.info,
	 	});
	 	this.request()
	 console.log('detial info======>'+this.state.info);
	 console.log('props info======>'+this.props.info);
	 }
	render(){

		return (
				<View >
					<HeaderView 
						titleView= {'贷款详情'}
		                    leftIcon={'angle-left'}
		                    leftIconAction={() => this.props.navigator.pop() }
					/>
					<ScrollView  style={styles.contentContainer}>


						<View style={styles.view_line_style}>
							<View style={[styles.text_frist_style,{alignItems:'flex-start'}]}>
							<Text style={{textAlign:'center',fontSize:18}}>借款金额(元)</Text>
						</View>
						<View style={[styles.text_frist_style,{marginLeft:20}]}>
							<Text style={{textAlign:'left',fontSize:28,fontWeight:'bold'}}>{this.state.data.loan_amount}</Text>
							</View>
							<Text style={styles.text_frist_style}></Text>
						</View>


					<View style={styles.view_line_style}>
							<View style={[styles.text_frist_style,{alignItems:'flex-start'}]}>
								<Text style={{textAlign:'center',fontSize:18}}>借款期限(月)</Text>
							</View>
							<View style={[styles.text_frist_style,{marginLeft:20}]}>
								<Text style={{textAlign:'left',fontSize:28,fontWeight:'bold'}}>{this.state.data.loan_term}</Text>
							</View>
							<View style={styles.text_frist_style}>
								<TouchableOpacity style={styles.button}
									onPress = {this.onClick.bind(this)}>
									<Text style={{textAlign:'center'}}>{this.state.data.verify_statue==0 ? '未通过':'已通过'}</Text>
								</TouchableOpacity>
							</View>
					</View>
		
					<View style={{flex:1,backgroundColor:'#F0F1F2',height:20}}></View>
					<View style={{flexDirection:'column',height:140,paddingLeft:28,paddingRight:28,paddingTop:20,flex:1,}}>
						<View style={{flexDirection:'row',height:24}}>
							<View style={{height:24,width:6,backgroundColor:'#1a98ff', borderRadius: 5}}></View>
							<Text style={{flex:1,marginLeft:8,textAlign:'left',fontSize:18}}>拒绝原因</Text>
						</View>
						<Text style={{fontSize:16,color:'#FF0000',marginTop:15,marginLeft:10,marginBottom:10}}>{this.state.data.reject_reason}</Text>
					</View>

					<View style={{flex:1,backgroundColor:'#F0F1F2',height:20}}></View>

					<View style={{flexDirection:'column',height:250,paddingLeft:28,paddingRight:28,paddingTop:15,flex:1,}}>
						<View style={{flexDirection:'row',justifyContent: 'center',height:24}}>
							<View style={{height:24,width:6,backgroundColor:'#1a98ff', borderRadius: 5}}></View>
							<Text style={{flex:1,marginLeft:8,textAlign:'left',fontSize:18}}>订单详情</Text>
						</View >
							<View style={{flexDirection:'row',marginTop:10}}>
							<Text style={styles.text_third_style}>项目编号:</Text>
							<Text style={[styles.text_third_style,{color:'#000000'}]}>{this.state.data.orderid}</Text>
							</View>

							<View style={{flexDirection:'row'}}>
							<Text style={styles.text_third_style}>借款金额:</Text>
							<Text style={[styles.text_third_style,{color:'#000000'}]}>{'￥'+this.state.data.loan_amount}</Text>
							</View>

							<View style={{flexDirection:'row'}}>
							<Text style={styles.text_third_style}>借款期限:</Text>
							<Text style={[styles.text_third_style,{color:'#000000'}]}>{this.state.data.loan_term}</Text>
							</View>

							<View style={{flexDirection:'row'}}>
							<Text style={styles.text_third_style}>分期还款:</Text>
							<Text style={[styles.text_third_style,{color:'#000000'}]}>{this.state.data.period==1 ? '是':'否'}</Text>
							</View>

							<View style={{flexDirection:'row'}}>
							<Text style={styles.text_third_style}>还款方式:</Text>
							<Text style={[styles.text_third_style,{color:'#000000'}]}>等额本息</Text>
							</View>

							<View style={{flexDirection:'row'}}>
							<Text style={styles.text_third_style}>申请时间:</Text>
							<Text style={[styles.text_third_style,{color:'#000000'}]}>{this.state.data.apply_time}</Text>
							</View>
					</View>

					<View style={{flex:1,backgroundColor:'#F0F1F2',height:120,alignItems:'center',paddingTop:20}}>
						<TouchableOpacity style={[styles.button,{width: Common.window.width-50,backgroundColor: '#1a98ff',height:40}]}
									onPress = {this.onClick.bind(this)}>
									<Text style={{textAlign:'center'}}>{this.state.info==0 ? '未通过':'已通过'}</Text>
								</TouchableOpacity>

					</View>




					</ScrollView>
				</View>
			);

	}

	onClick(){

	}

	 request() {
        var queryloandetail = REQUEST_JSON.querydictionarydata;
        
        // alert(page);
        
        repository.launchRequest('queryloandetail',queryloandetail).then((responseData) => {
        	console.log('request  response======>'+responseData.response_body);
            this.setState({
					data:responseData.response_body
				})
        }).done();
    }


}

var styles =StyleSheet.create({
	container: {
    flex: 1,
    flexDirection: 'column',
	height:180,


  },
  view_line_style:{
  	flex:1,flexDirection:'row',justifyContent: 'center',height:80,
  		paddingLeft:28,
	paddingRight:28,
  },
  text_frist_style:{
  	flex:1,alignItems:'flex-start',justifyContent: 'center',
 
  },
  button: {
        width: 90,
		height:30,
        backgroundColor: '#999999',
        alignItems:'center',justifyContent: 'center',
        borderRadius: 10,
		
    },
   text_third_style:{
   	fontSize:16,color:'#999999',marginTop:8,marginLeft:10,
   },
   contentContainer: {
      paddingVertical: 0,
      flexDirection:'column',
      flex:1,
      height: Platform.OS == 'ios'? Common.window.height-64:Common.window.height - 50,
    },
});

module.exports = LoanDetail;