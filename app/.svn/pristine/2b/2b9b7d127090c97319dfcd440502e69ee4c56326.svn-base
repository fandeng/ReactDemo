import React,{Component} from 'react';
import{
	StyleSheet,
	Text,
	View,
	BackAndroid,
	Platform,
	TouchableOpacity,
	Image,
	InteractionManager,
	ScrollView,
} from 'react-native';
var ImagePicker = require('react-native-image-picker');
 // import ImagePickerManager from 'NativeModules';


import HeaderView from '../common/HeaderView';
import Common from '../common/common';
import InformationProgress from '../components/InformationProgress';
import Style from '../style/style';
import MineInformationVC from '../pages/MineInformationVC';
import UnitsInformationVC from '../pages/UnitsInformationVC';
import EmergencyContactVC from '../pages/EmergencyContactVC';
import PhotographCertificateVC from '../pages/PhotographCertificateVC';
import MineBankCard from '../pages/MineBankCard'

export default class MyDataDetial extends Component{
	constructor(props) {
	  super(props);
	  this.state = {
	  	data:this.props.data,
	  };
	}
	componentDidMount(){
 		BackAndroid.addEventListener('hardwareBackPress', () => {
    		this.props.navigator.pop()
     		return true
		});
	}

	render(){
		return (
			<View>
				<HeaderView
				titleView= {'我的资料'}
		    	leftIcon={'angle-left'}
		    	leftIconAction={() => this.props.navigator.pop() }/>

				<ScrollView style={styles.contentContainer}>
					<View style={{backgroundColor:'#f0f1f2',height:45,alignItems:'center',justifyContent: 'center'}}>
						<Text style={Style.title_promte}>完成所需资料立即申请贷款</Text>
					</View>

					<InformationProgress numSign = {0} progressArray={['25%',"50%",'75%', '100%']} image={['1','1','1', '1']}/>
					<View style={{backgroundColor:'#F0F1F2',height:15}}></View>

					<View style={{flexDirection:'column',flex:1,paddingBottom:15}}>
						<View style={{flexDirection:'row',flex:1}}>

							<TouchableOpacity style={styles.view_style}
									onPress = {this.onClick.bind(this,MineInformationVC)}>
							<Image style = {styles.img_style} source={require('../img/mineInformation.png')}>
									<Image style = {{}} source={require('../img/mineInformation.png')}/>
							</Image>
							<Text key={'text'} style={[Style.rowTitle,{marginTop:10}]}>个人信息</Text>
							</TouchableOpacity>

							<View style={[styles.line_style,{marginTop:10}]}></View>

							<TouchableOpacity style={styles.view_style}
									onPress = {this.onClick.bind(this,MineBankCard)}>
							<Image style = {styles.img_style} source={require('../img/unitsInformation.png')}/>
							<Text key={'text'} style={[Style.rowTitle,{marginTop:10}]}>银行卡</Text>
							</TouchableOpacity>
						</View>
						<View style={{height:1,backgroundColor:'#D3D3D3',alignItems:'center'}}></View>
						<View style={{flexDirection:'row',flex:1}}>
							<TouchableOpacity style={styles.view_style}
									onPress = {this.onClick.bind(this,PhotographCertificateVC)}>
							<Image style = {styles.img_style} source={require('../img/photographCertificate.png')}/>
							<Text key={'text'} style={[Style.rowTitle,{marginTop:10}]}>拍照认证</Text>

							</TouchableOpacity>

							<View style={[styles.line_style,{marginBottom:0}]}></View>

							<TouchableOpacity style={styles.view_style}
									onPress = {this.onClick.bind(this,EmergencyContactVC)}>
							<Image style = {styles.img_style} source={require('../img/emergencyContact.png')}/>
							<Text key={'text'} style={[Style.rowTitle,{marginTop:10}]}>紧急联系人</Text>
							</TouchableOpacity>
						</View>

					</View>

				</ScrollView>
			</View>
			);
	}

	onClick(item){
		InteractionManager.runAfterInteractions(() => {
				this.props.navigator.push({
						name: '二级',
						component: item,
				})
		});
	}
}



var styles =StyleSheet.create({
	contentContainer: {
      paddingVertical: 0,
      flexDirection:'column',
      flex:1,
      height: Platform.OS == 'ios'? Common.window.height-64:Common.window.height - 50,
    },
    view_style:{flex:1,alignItems: 'center',justifyContent: 'center',flexDirection:'column',width:Common.window.width/2,height:Common.window.width/2},
    line_style:{width:1,backgroundColor:'#D3D3D3',alignItems:'center'},
		img_style:{height:80,width:80},
});
