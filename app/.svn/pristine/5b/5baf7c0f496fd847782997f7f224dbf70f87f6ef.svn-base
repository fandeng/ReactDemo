import React, { Component } from 'react';
import {
    StyleSheet,
    Text,
    Image,
    ListView,
    TouchableOpacity,
    View,
    InteractionManager,
    Dimensions,
    TextInput,
    Linking,
} from 'react-native';

import Common from '../common/common';
import HeaderView from '../common/HeaderView';
import MoreSection from '../Data/MoreSection.json';
import DeviceInfo from 'react-native-device-info';
var IMGLIST = [require("../img/bless.png"), require('../img/love.png'), require('../img/bless.png'),
               require('../img/medal.png'), require('../img/food.png'), require('../img/tour.png')
              ];
class RecipeDetail extends Component {
    constructor(props) {
        super(props);
        this._renderRow = this.renderRow.bind(this);
        this.state = {
          dataSource: new ListView.DataSource({
              rowHasChanged: (row1, row2) => row1 !== row2,
          }),
        };
    }
    render() {
        let classList = ['系统消息', '新手引导', '安全保障', '关于我们', '当前版本', '退出登录'];
        return (
            <View style = {{backgroundColor: 'darkgray'}}>
                <HeaderView titleView= {'更多'}/>
                {
                  <ListView
                      dataSource={this.state.dataSource.cloneWithRows(classList) }
                      renderRow={this._renderRow}
                      enableEmptySections={true}
                      style={{ height: Common.window.height-64-49}}//减去导航的高度
                  />
                }
            </View>
        );
    }
    renderRow(rowDate,sectionID: number | string, rowID: number | string,) {
       let img = IMGLIST[rowID]
        return (
            <TouchableOpacity
                activeOpacity={0.75}
                onPress={this._onPressFeedItem.bind(this, rowDate, rowID) }
                style={styles.center}
            >
            <View style = {styles.container}>
                <Image style = {styles.image_left} source = {img}></Image>
                <View style = {styles.right_back_view}>
                  <Text style = {styles.title_text} numberOfLines = {2}>{rowDate}</Text>
                </View>
            </View>
            </TouchableOpacity>
        );
    }
    _onPressFeedItem(rowDate, rowID) {
        InteractionManager.runAfterInteractions(() => {
          alert(DeviceInfo.getUniqueID());
        });
    }
}

const styles = StyleSheet.create({
  center:{
        flexDirection: 'row',
        justifyContent: 'center',
        alignItems: 'center',
      },
  container: {
      width: Common.window.width,
      height:45,
      flexDirection: 'row',
      backgroundColor: 'white',
      borderBottomColor: 'darkgray',
      borderBottomWidth: 1,
    },
  image_left: {
     height: 25,
     width: 25,
     marginTop: 10,
     marginLeft: 10,
   },
  title_text: {
     textAlign: 'left',
     fontSize: 14,
     color: 'black',
     marginTop:15,
   },
  right_back_view: {
    flex: 1,
    flexDirection: 'column',
    justifyContent: 'space-between',
    marginLeft: 10,
    // backgroundColor: 'red',
  },
  header_title: {
    color: '#a9a9a9',
    fontSize: 12,
    textAlign:'left',
    marginLeft:10,
    marginTop:10
  },
});
module.exports = RecipeDetail;
