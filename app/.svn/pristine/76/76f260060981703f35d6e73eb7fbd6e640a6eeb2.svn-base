//个人信息数据模块
'use strict'
import React, { Component } from 'react';
import {
    StyleSheet,
    Text,
    TextInput,
    ScrollView,
    ListView,
    View,
    Dimensions,
    Platform,
    TouchableOpacity,
    InteractionManager,
    Image,
    Alert,
} from 'react-native';

import Common from '../common/common';
import HeaderView from '../common/HeaderView';
// 名字
var FIRSTNAMES  = ['姓名', '身份证号码','QQ号']
var FIRSPLACEHOLDER  = ['请务必填写本人姓名', '','']
var FIRSVALUE  = ['', '415656454545565656','23454553545']
var SECONDNAMES = ['婚姻','学历','地址'];
var SECONDPLACEHOLDER  = ['IT行业', '开发部门','番禺区'];
var NUMS = 3;

class MineInformationContainer extends Component {
    constructor(props) {
        super(props);
        this._renderRow = this.renderRow.bind(this);
        this._renderSRow = this.renderSRow.bind(this);
        this.state = {
          dataSource: new ListView.DataSource({
              rowHasChanged: (row1, row2) => row1 !== row2,
          }),
        };
    }
    render() {
        return (
          <View>
              <ScrollView style={{backgroundColor:'#f0f1f2', height: 55*NUMS*2+60,width:Common.window.width}}>
                  <View style={{height:50,alignItems: 'center'}}>
                       <Text style={styles.title_promte}>哗啦贷承诺确保您的信息安全</Text>
                  </View>
                  <ListView
                      dataSource={this.state.dataSource.cloneWithRows(FIRSTNAMES) }
                      renderRow={this._renderRow}
                      style={{ height: NUMS*55}}//减去导航的高度
                  />
                  <View style={{height:10,backgroundColor:'#f0f1f2'}}/>
                  <ListView
                      dataSource={this.state.dataSource.cloneWithRows(SECONDNAMES) }
                      renderRow={this._renderSRow}
                      style={{height: NUMS*55}}//减去导航的高度
                  />
              </ScrollView>
          </View>
      );
    }
    renderRow(rowDate,sectionID: number | string, rowID: number | string,) {
        return (
          <View style={styles.rowCell_style}>
                <Text style={styles.title_content}>{rowDate}</Text>
                <TextInput
                  style={styles.name_input}
                  placeholder={FIRSPLACEHOLDER[rowID]}
                  numberOfLines={1}
                  autoFocus={false}
                  textAlign='right'
                  keyboardType = {rowID == 1?'numeric':'default'}
                  defaultValue= {FIRSVALUE[rowID]}
                />
          </View>
        );
    }
    renderSRow(rowDate,sectionID: number | string, rowID: number | string,) {
        return (
          <TouchableOpacity
              activeOpacity={0.75}
              onPress={this._onPressFeedItem.bind(this, rowDate, rowID) }
              style={styles.center}
          >
          <View style={styles.rowCell_style}>
                <Text style={styles.title_content}>{rowDate}</Text>
                <Text style={styles.content_text}>{SECONDPLACEHOLDER[rowID]}</Text>
                <Image style = {styles.RowImage_right} source = {require("../img/downArrow.png")}></Image>
          </View>
          </TouchableOpacity>
        );
    }
    _onPressFeedItem(rowDate, rowID) {
        InteractionManager.runAfterInteractions(() => {
            // this.props.navigator.push({
            //     name: '字体样式',
            //     component: TextStyleFD,
            // })
           Alert.alert('温馨提示','待实现')
        });
    }
}

const styles = StyleSheet.create({
    title_promte:{
      marginTop:20,
      height:20,
      textAlign: 'center',
      fontSize: 13,
      color: '#999999',
    },
    title_content:{
      marginLeft:10,
      height:20,
      marginTop:8,
      width:80,
      textAlign: 'left',
      fontSize: 14,
      color: '#333333',
    },
    name_input:{
      marginLeft:10,
      marginTop:5,
      fontSize:14,
      width:Common.window.width-110,
      height:45,
      color:'#666666'
    },
    rowCell_style:{
      height:55,
      alignItems: 'center',
      flexDirection: 'row',
      backgroundColor:'white',
      borderBottomColor: '#f4f4f4',
      borderBottomWidth: 1,
    },
    RowImage_right: {
     height: 8,
     width: 15,
     marginRight: 10,
     marginLeft:5
    },
    content_text:{
      marginLeft:10,
      height:20,
      marginTop:8,
      width:Common.window.width-90-30-18,
      textAlign:'right',
      fontSize:14,
      marginRight:8,
      color:'#666666'
    },
    center:{
       flexDirection: 'row',
       justifyContent: 'center',
       alignItems: 'center',
    },
});

module.exports = MineInformationContainer;
