//个人信息数据模块
'use strict'
import React, { Component } from 'react';
import {
    StyleSheet,
    Text,
    TextInput,
    ScrollView,
    View,
    InteractionManager,
} from 'react-native';

import Common from '../common/common';
import Style from '../style/style';
import RCTDeviceEventEmitter from 'RCTDeviceEventEmitter'

let name;
let card;
let address;
let workname;
let workphone;
let workaddress;

class MineInformationContainer extends Component {
    _press(dataArray) {
        this.props.callback(dataArray);
    }
    render() {
        const {userData} = this.props;
        const {isApply} = this.props;
        return (
          <View>
              <ScrollView scrollEnabled={false} style={{backgroundColor:'#f0f1f2', height: 55*6+70,width:Common.window.width}}>
                  <View style={{height:45,alignItems: 'center',justifyContent: 'center'}}>
                       <Text style={Style.title_promte}>哗啦贷承诺确保您的信息安全</Text>
                  </View>
                 <View style={{height:55,alignItems: 'center',backgroundColor:'white'}}>
                     <View style={{height:54,alignItems: 'center',flexDirection: 'row',backgroundColor:'white'}}>
                         <Text style={[Style.mainBody,{marginLeft:10,height:20,marginTop:8,width:80}]}>姓名</Text>
                         <TextInput
                           style={Style.text_input}
                           placeholder='请务必填写本人姓名'
                           numberOfLines={1}
                           autoFocus={false}
                           textAlign='right'
                           defaultValue = {isApply?null:userData.name}
                           editable={isApply}
                           underlineColorAndroid={'transparent'}
                           onChangeText={(text) => {
                               name = text;
                               this._press([name,card,address,workname,workphone,workaddress])
                           }}
                         />
                   </View>
                   <View style={{height:1,backgroundColor:'white'}}>
                         <View style={{height:1,backgroundColor:'#f4f4f4',marginLeft:10,width:Common.window.width-10}}/>
                   </View>
                 </View>

                 <View style={{height:55,alignItems: 'center',backgroundColor:'white'}}>
                     <View style={{height:54,alignItems: 'center',flexDirection: 'row',backgroundColor:'white'}}>
                         <Text style={[Style.mainBody,{marginLeft:10,height:20,marginTop:8,width:80}]}>身份证号</Text>
                         <TextInput
                           style={Style.text_input}
                           placeholder='请输入身份证号'
                           numberOfLines={1}
                           autoFocus={false}
                           textAlign='right'
                           maxLength ={18}
                           defaultValue = {isApply?null:userData.identification}
                           editable={isApply}
                           underlineColorAndroid={'transparent'}
                           onChangeText={(text) => {
                             card = text;
                               this._press([name,card,address,workname,workphone,workaddress])
                           }}
                         />
                   </View>
                   <View style={{height:1,backgroundColor:'white'}}>
                         <View style={{height:1,backgroundColor:'#f4f4f4',marginLeft:10,width:Common.window.width-10}}/>
                   </View>
                 </View>

                 <View style={{height:10}}/>
                 <View style={{height:55,alignItems: 'center',backgroundColor:'white'}}>
                    <View style={{height:55,alignItems: 'center',flexDirection: 'row',backgroundColor:'white'}}>
                        <Text style={[Style.mainBody,{marginLeft:10,height:20,marginTop:8,width:80}]}>联系地址</Text>
                        <TextInput
                        style={Style.text_input}
                        placeholder='请输入地址'
                        numberOfLines={1}
                        autoFocus={false}
                        textAlign='right'
                        defaultValue = {isApply?null:userData.address}
                        editable={isApply}
                        underlineColorAndroid={'transparent'}
                        onChangeText={(text) => {
                          address = text;
                          this._press([name,card,address,workname,workphone,workaddress])
                        }}
                        onFocus={()=>{RCTDeviceEventEmitter.emit('isFirst',265)}}
                        onEndEditing={()=>{RCTDeviceEventEmitter.emit('cancalFirst',0)}}
                        />
                   </View>
                 </View>

                 <View style={{height:10}}/>
                 <View style={{height:55,alignItems: 'center',backgroundColor:'white'}}>
                    <View style={{height:54,alignItems: 'center',flexDirection: 'row',backgroundColor:'white'}}>
                           <Text style={[Style.mainBody,{marginLeft:10,height:20,marginTop:8,width:80}]}>工作单位</Text>
                           <TextInput
                             style={Style.text_input}
                             placeholder='如：深圳华为信息科技有限公司'
                             numberOfLines={1}
                             autoFocus={false}
                             textAlign='right'
                             defaultValue = {isApply?null:userData.employer}
                             editable={isApply}
                             underlineColorAndroid={'transparent'}
                             onChangeText={(text) => {
                                 workname = text;
                                 this._press([name,card,address,workname,workphone,workaddress])
                             }}
                             onFocus={()=>{RCTDeviceEventEmitter.emit('isFirst',330)}}
                             onEndEditing={()=>{RCTDeviceEventEmitter.emit('cancalFirst',0)}}
                           />
                     </View>
                     <View style={{height:1,backgroundColor:'white'}}>
                           <View style={{height:1,backgroundColor:'#f4f4f4',marginLeft:10,width:Common.window.width-10}}/>
                     </View>
                 </View>

                 <View style={{height:55,alignItems: 'center',backgroundColor:'white'}}>
                    <View style={{height:54,alignItems: 'center',flexDirection: 'row',backgroundColor:'white'}}>
                           <Text style={[Style.mainBody,{marginLeft:10,height:20,marginTop:8,width:80}]}>办公电话</Text>
                           <TextInput
                             style={Style.text_input}
                             placeholder='区号+公司电话'
                             numberOfLines={1}
                             autoFocus={false}
                             textAlign='right'
                             underlineColorAndroid={'transparent'}
                             keyboardType='numeric'
                             defaultValue = {isApply?null:userData.office_phone}
                             editable={isApply}
                             onChangeText={(text) => {
                               workphone = text;
                                 this._press([name,card,address,workname,workphone,workaddress])
                             }}
                             onFocus={()=>{RCTDeviceEventEmitter.emit('isFirst',330)}}
                             onEndEditing={()=>{RCTDeviceEventEmitter.emit('cancalFirst',0)}}
                           />
                     </View>
                     <View style={{height:1,backgroundColor:'white'}}>
                           <View style={{height:1,backgroundColor:'#f4f4f4',marginLeft:10,width:Common.window.width-10}}/>
                     </View>
                 </View>
                <View style={{height:10}}/>
                <View style={{height:55,alignItems: 'center',backgroundColor:'white'}}>
                    <View style={{height:55,alignItems: 'center',flexDirection: 'row',backgroundColor:'white'}}>
                        <Text style={[Style.mainBody,{marginLeft:10,height:20,marginTop:8,width:80}]}>办公地址</Text>
                        <TextInput
                          style={Style.text_input}
                          placeholder='请输入公司地址'
                          numberOfLines={1}
                          autoFocus={false}
                          textAlign='right'
                          underlineColorAndroid={'transparent'}
                          defaultValue = {isApply?null:userData.office_address}
                          editable={isApply}
                          onChangeText={(text) => {
                              workaddress = text;
                              this._press([name,card,address,workname,workphone,workaddress])
                          }}
                          onFocus={()=>{RCTDeviceEventEmitter.emit('isFirst',330)}}
                          onEndEditing={()=>{RCTDeviceEventEmitter.emit('cancalFirst',0)}}
                        />
                     </View>
                </View>

              </ScrollView>
          </View>
      );
    }
}
module.exports = MineInformationContainer;
